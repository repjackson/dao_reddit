//- template(name='color_icon_edit')
//-     div
//-     if icon
//-         i.grey.small.icon(class=icon)
//-         //- +ismall name=icon classes='ui middle aligned image'
//-     .ui.inline.header
//-         if title
//-             |#{title}
//-         else if key
//-             |#{key}
//-         else
//-             |#{this}    
//-     if afield_value
//-         //- i.large.icon(class=afield_value)
//-         +icolor name=afield_value
//-     .ui.right.icon.input
//-         input.icon_val(type='text' value=afield_value placeholder='icon class' autocomplete="off")
//- 
//- 
//- template(name='color_icon_view')
//-     div
//-     if afield_value
//-         +icolor name=afield_value
//- 
//- 
//- 
//- //- template(name='html_edit')
//- //-     .ui.form
//- //-         .field
//- //-             label 
//- //-                 if icon
//- //-                     i.icon(class=icon)
//- //-                 if title
//- //-                     |#{title}
//- //-                 else if label
//- //-                     |#{label}
//- //-                 else if key
//- //-                     |#{key}
//- //-                 else
//- //-                     |#{this}
//- //-     .froala-container
//- //-         +froalaReactive getFEContext
//- //-     //- if is_dev
//- //-     //- +call_watson mode='html' key=key
//- //-     //- div
//- //-     //- //- +tone mode='html'
//- //-     //- if watson
//- //-     //-     +watson_view
//- //- 
//- 
//- 
//- 
//- 
//- template(name='link_edit')
//-     div
//-     .ui.inline.small.header
//-         |#{title} #{label}
//-     .ui.fluid.input
//-         input.edit_url(type='url' value=afield_value placeholder='url' autocomplete="off")
//- 
//- 
//- template(name='link_view')
//-     if afield_value
//-         div
//-         a.ui.header(href=afield_value targe='_window' title='click to download')
//-             |#{title} #{label}
//-         //- a.ui.header(href=afield_value target='_window') #{label}
//-         a.ui.small.header(href=afield_value target='_window') #{afield_value}
//-         //- img.ui.fluid.image(src=afield_value)
//- 
//- template(name='big_link_view')
//-     if afield_value
//-         div
//-         a.ui.big.button(href=afield_value target='_window' title='click to download')
//-             |#{title} #{label}
//-         //- a.ui.header(href=afield_value target='_window') #{label}
//-         //- a.ui.header(href=afield_value target='_window') #{afield_value}
//-         //- img.ui.fluid.image(src=afield_value)
//- 
template(name='aimage_view')
    if afield_value
        //- .ui.inline.header
        //-     if icon
                i.icon(class=icon)
        //-     if title
        //-         |#{title}
        //- else if key
        //-     |#{key}
        //- else
        //-     |#{this}
        //- if classes
        //-     img(src="{{c.url afield_value gravity='face' crop='fit'}}" class=classes)
        //- else 
        img.ui.centered.rounded.medium.image(src="{{c.url afield_value gravity='face' crop='fit'}}")
        //- a(href="{{c.url afield_value gravity='face' crop='fit'}}")
        //-     |download
    //- +call_visual
//- 
//- template(name='pdf_edit')
//-     .ui.form
//-         if icon
//-             i.icon(class=icon)
//-         .ui.inline.small.header
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-             else if key
//-                 |#{key}
//-             else
//-                 |#{this}            
//-         .field
//-             if afield_value
//-                 label uploaded pdf
//-                 a.ui.button(href="{{c.url afield_value gravity='face' crop='fit'}}")
//-                     |download pdf
//-                 #remove_photo.ui.icon.button
//-                     i.remove.icon
//-             else
//-                 //- if icon
//-                 //-     i.icon(class=icon)
//-                 //- |#{title}
//-                 //- if is_dev
//-                 //-     input.cloudinary_id(type='text' value=afield_value placeholder='cloudinary_id' autocomplete="off")
//-                 // else
//-                 //     label Upload Image
//-                 input(type='file' name='upload_pdf' accept='application/pdf')
//- 
//- template(name='pdf_view')
//-     if afield_value
//-         if icon
//-             i.icon(class=icon)
//-         if title
//-             |#{title}
//-         //- else if key
//-         //-     |#{key}
//-         //- else
//-         //-     |#{this}
//-         //- img.ui.large.centered.rounded.image(src="{{c.url afield_value 'pdf.jpg' height=500 crop='fill'}}")
//- 
//-         a.ui.animated.button(href="{{c.url afield_value }}")
//-             .visible.content
//-                 i.download.icon
//-                 |#{label}
//-             .hidden.content
//-                 |download pdf
//-     //- +call_visual
//- 
template(name='aimage_edit')
    .ui.form
        .ui.inline.small.header
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}   
        if tooltip
            i.info.icon(title=tooltip)         
        .field
            if afield_value
                //- label Image
                img.ui.centered.rounded.image(src="{{c.url afield_value height=500 gravity='face' crop='fill'}}")
                a#remove_photo.ui.right.corner.link.label
                    i.remove.link.icon
            else 
                input(type='file' name='upload_image' accept='image/*' )

template(name='aimage_link')
    .ui.fluid.input
        .ui.smoothed.label image link
        i.image.icon
        input.edit_image_link(type='link' value=afield_value placeholder='image link'  autocomplete="off")
    if afield_value
        img.ui.fluid.image(src=afield_value)


template(name='aimage_link_view')
    img.ui.image(src=afield_value)

//- 
//- template(name='html_view')
//-     if afield_value
//-         div
//-         //- if icon
//-         //-     i.icon(class=afield_value)
//-         .ui.inline.small.header
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-         .f6 {{nl2br afield_value}}
//-         if view_watson
//-             if watson
//-                 +watson_view
//- 
//- 
//- 
//- template(name='textarea_view')
//-     if afield_value
//-         div
//-         //- if icon
//-         //-     i.icon(class=afield_value)
//-         .ui.inline.small.header
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-             //- else if key
//-             //-     |#{key}
//-             //- else
//-             //-     |#{this}            
//-         .f6 {{nl2br afield_value}}
//- 
//- template(name='textarea')
//-     .ui.form
//-         .field
//-             label 
//-                 if title
//-                     |#{title}
//-                 else if label
//-                     |#{label}
//-                 //- else if key
//-                 //-     |#{key}
//-                 //- else
//-                 //-     |#{this}
//-             textarea.edit_textarea(rows='5') #{afield_value}
//- 
//- 
//- 
template(name='atext_edit')
    .ui.inline.small.header
        if title
            |#{title}
        else if label
            |#{label}
        else if key
            |#{key}
            //- +clear_value
    if subtitle
        .ui.small.inline.header 
            |#{subtitle}
    if tooltip 
        i.info.icon(title=tooltip)
    .ui.input
        input.edit_text(type='text' value=afield_value placeholder=placeholder autocomplete="off")

//- 
//- template(name='clear_value')
//-     if afield_value
//-         i.remove.link.large.icon.clear_value
//- 
template(name='atext_view')
    if afield_value
        //- unless header
        //-     div
        //-     if icon
        .ui.inline.small.header
            if title
                |#{title}
            else if label
                |#{label}
            //- else if key
            //-     |#{key}
            //- else
            //-     |#{this}
        .ui.inline.header #{afield_value}
//- 
//- 
//- 
//- 
//- template(name='parent')
//-     .ui.fluid.icon.input
//-         .ui.inline.small.header
//-             |parent edit
//-             //- if icon
//-             //-     i.icon(class=icon)
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-             else if key
//-                 |#{key}
//-         +clear_value
//-         input.edit_text(type='text' value=afield_value placeholder=placeholder autocomplete="off")
//- 
//- template(name='parent_view')
//-     if afield_value
//-         .ui.header parent    
//-             div
//-             // if icon
//-             //     i.icon(class=icon)
//-             | &nbsp;
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-             else if key
//-                 |#{key}
//-             else
//-                 |#{this}
//-         .ui.segment
//-             //- .ui.inline.header #{afield_value}
//-             +doc_card doc_id=afield_value
//- 
//- 
//- //- template(name='doc_card')
//- //-     a.ui.header(href="/m/#{doc.model}/#{doc._id}/view") doc #{doc.model}
//- 
//- 
template(name='aphone_edit')
    //- i.phone.icon
    .ui.inline.header 
        if title
            |#{title}
        else if label
            |#{label}
        else if key
            |#{key}
        else
            |#{this}
    .ui.fluid.input
        //- +clear_value                
        input.edit_phone(type='tel' value=afield_value placeholder=placeholder autocomplete="off")
//- 
template(name='aphone_view')
    if afield_value
        unless header
            div
            //- if icon
            .ui.inline.header
                if title
                    |#{title}
                else if label
                    |#{label}
                else if key
                    |#{key}
                else
                    |#{this}
        strong &nbsp; #{afield_value}
//- 
//- 
template(name='anumber_view')
    if afield_value
        div
        .ui.inline.small.header
            if title
                |#{title}
            else if label
                |#{label}
            //- else if key
            //-     |#{key}
            //- else
            //-     |#{this}
        .ui.inline.header &nbsp;
            if unit
                span #{prefix}
            |#{afield_value}

//- 
template(name='anumber_edit')
    .ui.small.inline.header(title=tooltip class=label_classes)
        if icon 
            i.grey.small.icon(class=icon)
        if title
            |#{title}
        else if label
            |#{label}
        //- div
        //- else
        //-     |#{key}
    //- if tooltip
    //-     .ui.tiny.inline.header #{tooltip}
    //-     div
    //- +clear_value  
    .ui.input(class=classes)
        input.edit_number(type='number' min=min max=max value=afield_value placeholder=placeholder autocomplete="off")
//- 
//- 
//- template(name='icon_edit')
//-     div
//-     if icon
//-         i.grey.small.icon(class=icon)
//-         //- +ismall name=icon classes='ui middle aligned image'
//-     .ui.inline.header
//-         if title
//-             |#{title}
//-         else if key
//-             |#{key}
//-         else
//-             |#{this}    
//-     if afield_value
//-         i.large.icon(class=afield_value)
//-         //- +ismall name=afield_value
//-     .ui.right.icon.input
//-         input.icon_val(type='text' value=afield_value placeholder='icon class' autocomplete="off")
//- 
//- 
template(name='afloat_edit')
    div
    .ui.small.inline.header(title=tip)
        if title
            |#{title}
        else if label
            |#{label}
        else
            |#{key}
    //- +clear_value  
    div  
    .ui.input            
        input.edit_float(type='number' class=classes min=min step=step value=afield_value placeholder=placeholder autocomplete="off")

template(name='afloat_view')
    if afield_value
        div
        .ui.inline.small.header
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        .ui.inline.large.header &nbsp; #{afield_value}
//- 
//- 
//- 
template(name='adate_edit')
    div
    //-     |&nbsp;
    .ui.inline.small.header
        if icon 
            i.grey.small.icon(class=icon)

        if title
            |#{title}
        else if label
            |#{label}
            //- else if key
            //-     |#{key}
            //- else
            //-     |#{this}
            //- +clear_value                
    .ui.fluid.input
        input.edit_date(type='date' value=afield_value placeholder=placeholder autocomplete="off")

//- 
template(name='adate_view')
    if afield_value
        div
        .ui.inline.small.header
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        .ui.inline.header &nbsp; #{afield_value}
//- 
//- 
//- 
//- template(name='time_edit')
//-     .ui.inline.header
//-         if title
//-             |#{title}
//-         else if label
//-             |#{label}
//-         //- else
//-         //-     |#{key}
//-     //- +clear_value                
//-     .ui.fluid.input
//-         input.edit_time(type='time' value=afield_value placeholder=placeholder autocomplete="off")
//- 
//- 
//- template(name='time_view')
//-     div
//-     if afield_value
//-         .ui.inline.header
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-             else if key
//-                 |#{key}
//-             else
//-                 |#{this}
//-         .ui.inline.header &nbsp; #{afield_value}
//- 
//- template(name='datetime_edit')
//-     .ui.form
//-         .field
//-             label 
//-                 if icon
//-                     i.icon(class=icon)
//-                 if title
//-                     |#{title}
//-                 else if label
//-                     |#{label}
//-                 else
//-                     |#{key}
//-             //- +clear_value                
//-             input.edit_datetime(type='datetime-local' value=afield_value placeholder=placeholder autocomplete="off")
//- 
template(name='adatetime_view')
    div
    if title
        |#{title}
    else if label
        |#{label}        
    else if key
        |#{key}
    else
        |#{this}
    strong &nbsp; #{afield_value}
//- 
//- 
template(name='aarray_view')
    if afield_value
        div
        if icon
            i.icon(class=icon)
        if label
            .ui.inline.small.header(title=title)
                |#{label}
        each afield_value
            .ui.black.label #{this}

template(name='aarray_edit')
    div
    if icon
        i.icon(class=icon)
    .ui.inline.small.header
        if title
            |#{title}
        else if label
            |#{label}
        else if key
            |#{key}
    .ui.input
        input.new_element(type='text' placeholder='+' autocomplete="off")
        //- +clear_value                
    if afield_value
        each afield_value
            .ui.large.basic.label
                i.delete.icon.remove_element
                |#{this}

//- 
//- 
//- 
//- template(name='children_edit')
//-     div
//-     .ui.inline.header 
//-         |#{title}
//-     .ui.icon.large.button.add_child(title="add child #{ref_model}")
//-         i.plus.icon
//-     .ui.styled.fluid.accordion
//-         each children
//-             +child
//- 
//- 
//- template(name='child_edit')
//-     .title
//-         .ui.header child doc: #{title} #{key} #{parent.slug}
//-     .content
//-         each child_fields
//-             +Template.dynamic template=edit_template 
//-         +remove_button
//-         //-     +text key='key'
//-         //-     +text key='field'
//-         //-     +single_doc key='field' ref_model='field_type' ref_key='slug' label='Field Type'
//-         //-     +text key='label'
//-         //-     +text key='icon'
//-         //-     if icon
//-         //-         i.big.icon(class=icon)
//-         //- div
//- 
//-               //- if is_reference
//- 
//-         //     +single_doc key='ref_model' ref_model='model' ref_key='slug' label='Referenced model (if ref)'
//-         //     .ui.divider
//- 
//- 
//- 
//- 
//- template(name='children_view')
//-     .ui.accordion
//-         .title
//-             .ui.inline.small.header
//-                 if title
//-                     |#{title}
//-                 else if label
//-                     |#{label}
//-                 else if key
//-                     |#{key}
//-                 else
//-                     |#{this}
//-                 i.dropdown.icon
//-         .content
//-             each children
//-                 .ui.smoothed.segment
//-                     +child_view
//- 
//- 
//- template(name='child_view')
//-     each child_fields
//-         //- |#{rank} #{title} #{title}
//-         //- |#{key}
//-         +Template.dynamic template=view_template 
//-     +remove_button
//-     +view_button
//-         // if field_template
//-         //     .ui.header field template #{field_template}
//-         // else 
//- 
//-         // .ui.segment
//-         //     +text key='key'
//-         //     // +text key='field'
//-         //     +single_doc key='field' ref_model='field' ref_key='slug' label='Field Type'
//-         //     +text key='label'
//-         //     +text key='icon'
//-         //     if icon
//-         //         i.big.icon(class=icon)
//-         //     // if is_reference
//- 
//-         //     +single_doc key='ref_model' ref_model='model' ref_key='slug' label='Referenced model (if ref)'
//-         //     .ui.divider
//- 
//- 
//- 
//- 
//- 
//- 
//- 
//- template(name='youtube_edit')
//-     .ui.basic.labeled.fluid.icon.input
//-         .ui.basic.label 
//-             // if icon
//-             //     i.icon(class=icon)
//-             |youtube id
//-         input.youtube_id(type='text' value=afield_value placeholder=placeholder autocomplete="off")
//-     if afield_value
//-         iframe.youtube_view(width='560' height='315' src="https://www.youtube.com/embed/#{afield_value}" frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='')
//- 
//- template(name='youtube_view')
//-     if afield_value
//-         .ui.embed.youtube_view(data-source="youtube" data-id=afield_value)
//- 
//-         //- // iframe(width='560' height='315' src="https://www.youtube.com/embed/#{afield_value}" frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='')
//-         //- iframe(src="https://www.youtube.com/embed/#{afield_value}" frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='')
//- 
//- 
//- 
//- template(name='signature_edit')
//-     .ui.segment
//-         canvas.canvas_area(id="signature-pad" class="signature-pad" width='800' height='200')
//-     .ui.grid
//-         .middle.aligned.row
//-             .fifteen.wide.column
//-                 .ui.huge.basic.fluid.button.save(title='Save')
//-                     i.checkmark.icon
//-                     |submit
//-             .one.wide.column
//-                 .ui.large.icon.basic.button.clear(title='Clear')
//-                     i.remove.icon
//- 
//- template(name='signature_view')
//-     .ui.header
//-         if icon
//-             i.icon(class=icon)
//-         | #{title}    
//-     img.ui.fluid.centered.rounded.image(src=afield_value)
//-     if is_admin
//-         .ui.button.print_rules
//-             i.download.icon
//-             |download pdf
//-     //- .ui.icon.button.print_guest
//-     //-     i.download.icon
//-     //-     |Download Guest PDF
//- 
//- 
//- 
template(name='aboolean_edit')
    //- div
    .ui.button.toggle_boolean(class="#{boolean_toggle_class} #{classes}" title=tooltip)
        if afield_value
            i.checkmark.green.icon
        else
            i.circle.outline.icon
        //- .ui.compact.button.toggle_boolean(class=boolean_toggle_class)
        if icon
            i.small.icon(class=icon)
        .inline.f4
            //- if afield_value
            //-     i.checkmark.icon
            if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        div
        //- 
        //- if afield_value
        //-     if true_icon
        //-         i.large.icon(class=true_icon)
        //-     else
        //-         |yes
        //- else
        //-     if false_icon
        //-         i.large.icon(class=false_icon)
        //-     else
        //-         |no
//- 
//- 
//- template(name='boolean_view')
//-     div(title=title)
//-         .ui.inline.small.header
//-             if icon 
//-                 i.grey.small.icon(class=icon)            
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-             else if key
//-                 |#{key}
//-             else
//-                 |#{this}
//-         if afield_value
//-             i.large.checkmark.icon
//-         else
//-             i.cancel.icon
//- 
//- 
//- 
//- template(name='single_doc_view')
//-     div
//-     if afield_value
//-         .ui.inline.header(title=key)
//-             |#{title}
//-         a.ui.basic.button(href="/m/#{related_doc.model}/#{related_doc._id}/view")
//-             if related_doc.image_id
//-                 img.ui.avatar.image(src="{{c.url related_doc.image_id width=200 height=200 gravity='face' crop='fill'}}")
//-             |#{related_doc.title}
//-             //- |#{afield_value}
//- 
//- 
//- template(name='single_doc_edit')
//-     .ui.inline.header(title=key) 
//-         |#{label} #{title}
//-     each choices
//-         .ui.compact.small.button.select_choice(class=choice_class)
//-             if icon 
//-                 i.icon(class=icon)
//-             if color_icon
//-                 +icolor name=color_icon classes='ui avatar image'
//-                 //- i.icon(class=icon)
//-             |#{title}
//-             //- |#{calculated_label}
//-             //- |#{slug}
//- 
//- 
//- template(name='multi_doc_edit')
//-     .ui.inline.header(title=key)
//-         |#{title} #{label}    
//-     each multi_choices
//-         .ui.compact.button.select_choice(class=choice_class)
//-             if image_id
//-                 img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-             if icon 
//-                 +icolor name=icon
//-                 //- i.icon(class=icon)    
//-             //- |#{slug}
//-             if title
//-                 |#{title}
//-             else 
//-                 | #{slug}
//-     //- .ui.sub.header 
//-     //-     if icon
//-     //-         i.icon(class=icon)
//-     //-     |#{title}
//-     //- select.ui.fluid.multiple.selection.dropdown(multiple='')
//-     //-     each choices
//-     //-         option(value=slug) #{title} #{unit_number}
//-     //- .ui.fluid.multiple.selection.dropdown
//-     //-  // input(type='hidden' name='multi_doc')
//-     //-  // i.dropdown.icon
//-     //-  // .default.text 
//-     //-  //     |#{title}
//-     //-  // .menu
//-     //-  //     each choices
//-     //-  //         .item(data-value=slug) 
//-     //-  //             if icon
//-     //-  i.icon(class=icon)
//-     //-  //             |#{title}
//- 
//- 
//- 
//- //- template(name='business')
//- //-     .ui.input
//- //-         input#business_name(type='text' placeholder=title autocomplete="off")
//- //-         //- input#multi_doc_select_input(type='text' placeholder="Lookup #{ref_model}.." autocomplete="off")
//- //-     //- each selections
//- //-     //-     .ui.basic.label
//- //-     //-         |#{title}
//- //-     with referenced_business
//- //-         .ui.header #{title}
//- //-     //- if doc_results
//- //-     //-     .ui.attached.secondary.segment
//- //-     //-         .ui.middle.aligned.selection.animated.list
//- //-     //-             each doc_results
//- //-     //-                 .select_doc.item
//- //-     //-                     h2.ui.header
//- //-     //-                         //- img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//- //-     //-                         strong + #{guest_name} #{first_name} #{last_name}
//- 
//- 
//- //- template(name='task_list')
//- //-     .ui.input
//- //-         input#task_list_name(type='text' placeholder=title autocomplete="off")
//- //-         //- input#multi_doc_select_input(type='text' placeholder="Lookup #{ref_model}.." autocomplete="off")
//- //-     //- each selections
//- //-     //-     .ui.basic.label
//- //-     //-         |#{title}
//- //-     with referenced_task_list
//- //-         .ui.header #{title}
//- //-     //- if doc_results
//- //-     //-     .ui.attached.secondary.segment
//- //-     //-         .ui.middle.aligned.selection.animated.list
//- //-     //-             each doc_results
//- //-     //-                 .select_doc.item
//- //-     //-                     h2.ui.header
//- //-     //-                         //- img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//- //-     //-                         strong + #{guest_name} #{first_name} #{last_name}
//- 
//- 
//- template(name='multi_doc_view')
//-     div
//-     if afield_value
//-         .ui.inline.header(title=key)
//-             |#{title} #{label}
//-         each afield_value
//-             +referenced_doc
//- 
//- template(name='referenced_doc')            
//-     a.ui.basic.button(href="/m/#{context_doc.model}/#{context_doc._id}/view")
//-         |#{context_doc.title}
//- 
//- 
//- 
//- template(name='single_user_edit')
//-     div
//-     .ui.inline.small.header 
//-         |#{label} #{title}
//-     if afield_value
//-         .pull_user.ui.icon.compact.button(title='remove user')
//-             i.remove.icon
//-             //- |clear #{afield_value}
//-     unless afield_value
//-         .ui.input
//-             input#single_user_select_input(type='text' placeholder='lookup user..')
//-             each selections
//-                 .ui.basic.label
//-                     |#{first_name} #{last_name} #{username} 
//-         if user_results
//-             .ui.attached.smoothed.segment
//-                 .ui.middle.aligned.selection.animated.list
//-                     each user_results
//-                         .select_user.item
//-                             h4.ui.header
//-                                 img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-                                 |#{first_name} #{last_name} #{username}
//-     //- if afield_value
//-     //-     +user_info
//-         //- +user_card afield_value
//-         //- |#{this}
//-         //- .item
//-         //-     .right.floated.content
//-         //-         i.pull_user.remove.link.icon
//-         //-     .image
//-         //-         img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-         //-     .content
//-         //-         h4.ui.header
//-         //-             |#{first_name} #{last_name}
//-         //-             @#{username}
//- 
//- 
//- template(name='single_user_view')
//-     if afield_value
//-         div
//-         .ui.inline.header 
//-             |#{title}
//-             |#{label}
//-         with afield_value
//-             .ui.inline.header #{afield_value}
//-                 +username_info
//- 
//- 
//- 
//- template(name='single_person_view')
//-     div
//-     .ui.header #{title}
//-     if afield_value
//-         +person_card afield_value
//-     div
//- 
//- 
//- template(name='single_person')
//-     .ui.header #{title}
//-     .ui.form
//-         if afield_value
//-             +person_card afield_value
//-             .ui.circlar.button.clear_selection
//-                 i.remove.icon
//-                 |Clear
//-         else
//-             .field.attached
//-                 input#single_person_select_input(type='text' placeholder='Lookup Username..')
//-             if person_results
//-                 .ui.top.attached.segment
//-                     .ui.middle.aligned.selection.animated.large.list
//-                         each person_results
//-                             .select_person.item
//-                                 h3.ui.header
//-                                     if image
//-                                         img.ui.avatar.image(src="{{c.url image width=100 height=100 gravity='face' crop='fill'}}")
//-                                     //- else
//-                                     //-     i.user.icon
//-                                     strong &nbsp; #{first_name} #{last_name}
//-                                  |@#{username}
//-                                 .ui.sub.header #{building_number} #{address}
//-             else
//-                 .ui.header no results
//-             // .ui.list
//-             //     each afield_value
//-             //         |#{this}
//-             //         .item
//-             //             .right.floated.content
//-             //                 i.pull_user.remove.link.icon
//-             //             .image
//-             //                 img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-             //             .content
//-             //                 h4.ui.header
//-             //                     |#{first_name} #{last_name}
//-             //                     @#{username}
//- 
//- 
//- template(name='multi_user_edit')
//-     div
//-     .ui.inline.small.header
//-         if icon
//-             i.icon(class=icon)
//-         if title
//-             |#{title}
//-         else if label
//-             |#{label}
//-         else if key
//-             |#{key}
//-         else
//-             |#{this}
//-     .ui.input
//-         input#multi_user_select_input(type='text' placeholder="lookup #{role_filter}..")
//-     each selections
//-         a.ui.basic.label(href="/user/#{username}")
//-             |#{first_name} #{last_name} @#{username}
//-     if user_results
//-         .ui.top.attached.segment
//-             .ui.middle.aligned.selection.animated.list
//-                 each user_results
//-                     .select_user.item
//-                         .ui.header
//-                             img.ui.avatar.image(src="{{c.url profile_image_id width=100 height=100 gravity='face' crop='fill'}}")
//-                             strong #{first_name} #{last_name}
//-                             |@#{username}
//-     +clear_value                
//-     .ui.list
//-         each afield_value
//-             // |#{this}
//-             +user_card
//-                 //- with user_from_id
//-                 //-     .item
//-                 //-         .right.floated.content
//-                 //-             i.pull_user.remove.link.icon
//-                 //-         .image
//-                 //-             img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-                 //-         .content
//-                 //-             h4.ui.header
//-                 //-                 |#{first_name} #{last_name}
//-                 //-                 @#{username}
//- 
//- 
//- template(name='multi_doc_input')
//-     //- .ui.form
//-         //- .ui.inline.header
//-         //-     if icon
//-         //-         i.icon(class=icon)
//-         //-     if title
//-         //-         |#{title}
//-         //-     else if label
//-         //-         |#{label}
//-         //-     else if key
//-         //-         |#{key}
//-         //-     else
//-         //-         |#{this}
//-     .ui.big.input
//-         input#multi_doc_select_input(type='text' placeholder=title autocomplete="off")
//-         //- input#multi_doc_select_input(type='text' placeholder="Lookup #{ref_model}.." autocomplete="off")
//-     each selections
//-         .ui.basic.label
//-             |#{guest_name} #{first_name} #{last_name}
//-     if doc_results
//-         .ui.attached.secondary.segment
//-             .ui.middle.aligned.selection.animated.list
//-                 each doc_results
//-                     .select_doc.item
//-                         h2.ui.header
//-                             //- img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-                             strong + #{guest_name} #{first_name} #{last_name}
//-         //- +clear_value                
//-         //- .ui.list
//-         //-     each afield_value
//-         //-         // |#{this}
//-         //-         +user_card
//-         //-         .ui.large.button
//-         //-             |#{first_name} #{last_name}
//-                 //- with user_from_id
//-                 //-     .item
//-                 //-         .right.floated.content
//-                 //-             i.pull_user.remove.link.icon
//-                 //-         .image
//-                 //-             img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-                 //-         .content
//-                 //-             h4.ui.header
//-                 //-                 |#{first_name} #{last_name}
//-                 //-                 @#{username}
//- 
//- template(name='project_lookup')
//-     //- .ui.form
//-         //- .ui.inline.header
//-         //-     if icon
//-         //-         i.icon(class=icon)
//-         //-     if title
//-         //-         |#{title}
//-         //-     else if label
//-         //-         |#{label}
//-         //-     else if key
//-         //-         |#{key}
//-         //-     else
//-         //-         |#{this}
//-     unless afield_value
//-         .ui.input
//-             input.project_title_lookup(type='text' placeholder='lookup project' autocomplete="off")
//-         //- input#multi_doc_select_input(type='text' placeholder="Lookup #{ref_model}.." autocomplete="off")
//-     each selections
//-         .ui.basic.label
//-             |#{title}
//-     if doc_results
//-         .ui.attached.segment
//-             .ui.middle.aligned.selection.animated.list
//-                 each doc_results
//-                     .select_doc.item
//-                         .ui.inline.small.header
//-                             strong #{title}
//-                         div
//-         //- +clear_value                
//-         //- .ui.list
//-         //-     each afield_value
//-         //-         // |#{this}
//-         //-         +user_card
//-         //-         .ui.large.button
//-         //-             |#{first_name} #{last_name}
//-                 //- with user_from_id
//-                 //-     .item
//-                 //-         .right.floated.content
//-                 //-             i.pull_user.remove.link.icon
//-                 //-         .image
//-                 //-             img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
//-                 //-         .content
//-                 //-             h4.ui.header
//-                 //-                 |#{first_name} #{last_name}
//-                 //-                 @#{username}
//- template(name='task_list_lookup')
//-     //- .ui.form
//-     .ui.inline.header
//-         |#{label}
//-         //-     if icon
//-         //-         i.icon(class=icon)
//-         //-     if title
//-         //-         |#{title}
//-             else if label
//-         //-     else if key
//-         //-         |#{key}
//-         //-     else
//-         //-         |#{this}
//-     unless afield_value
//-         .ui.input
//-             input.task_list_title_lookup(type='text' placeholder='lookup task list' autocomplete="off")
//-     else 
//-         with task_list
//-             |#{title}
//-     each selections
//-         .ui.basic.label
//-             |#{title}
//-     if doc_results
//-         .ui.attached.segment
//-             .ui.middle.aligned.selection.animated.list
//-                 each doc_results
//-                     .select_doc.item
//-                         .ui.inline.small.header
//-                             strong #{title}
//-                         div
//-         +clear_value                
//- 
//- template(name='multi_user_view')
//-     .ui.header 
//-         |#{title} #{label}
//-         //- #{key} #{label}
//-     each afield_value
//-         .ui.stackable.cards
//-             +user_card
//- 
//- 
//- 
//- 
//- 
//- template(name='range_edit')
//-     .ui.form
//-         .field
//-             label 
//-                 start date
//-             #rangestart.ui.calendar
//-                 .ui.input.left.icon
//-                     i.calendar.icon
//-                     input(type='text', placeholder='start' value=start_time)
//-             .ui.button.fluid.get_start save start
//-         .field
//-             label 
//-                 |end date
//-             #rangeend.ui.calendar
//-                 .ui.input.left.icon
//-                     i.calendar.icon
//-                     input(type='text', placeholder='end' value=end_time)
//-             .ui.button.fluid.get_end save end
//- 
//- 
//- 
//- template(name='html_raw')
//-     .ui.form
//-         .field
//-             label 
//-                 if title
//-                     |#{title}
//-                 else if label
//-                     |#{label}
//-                 //- else if key
//-                 //-     |#{key}
//-                 //- else
//-                 //-     |#{this}
//-             textarea.edit_textarea(rows='5') #{afield_value}
//- 
//- 
//- 
//- template(name='html_raw_view')
//-     if afield_value
//-         div
//-         .ui.inline.small.header
//-             if title
//-                 |#{title}
//-             else if label
//-                 |#{label}
//-             //- else if key
//-             //-     |#{key}
//-             //- else
//-             //-     |#{this}            
//-         .f6 !{afield_value}
//- 
//- template(name='textarea_edit')
//-     .ui.form
//-         .field
//-             label
//-                 if title
//-                     |#{title}
//-                 else if label
//-                     |#{label}
//-                 //- else if key
//-                 //-     |#{key}
//-                 //- else
//-                 //-     |#{this}
//-             textarea.edit_textarea(rows='5') #{afield_value}
//-     //- if is_admin
//-     //-     +call_watson mode='text' key=key
//-     //-     //- div
//-     //- //- +tone mode='html'
//-     //- if watson
//-     //-     +watson_view
//- 
//- 
//- template(name='document_edit')
//-     // .ui.large.basic.labeled.fluid.icon.input
//-     //     .ui.large.basic.label
//-     //         // if icon
//-     //         //     i.icon(class=icon)
//-     //         if title
//-     //             |#{title}
//-     //         else
//-     //             |#{key}
//-     //     input.edit_text(type='text' value=afield_value placeholder=placeholder autocomplete="off")
//-     with referenced_document
//-         .ui.header
//-             |#{title}
//-         .content
//-             |!{content}
//- 
//- 
//- template(name='slug_edit')
//-     a.ui.inline.small.header.slugify_title
//-         if title
//-             |#{title}
//-         else if label
//-             |#{label}
//-         else if key
//-             |#{key}
//-     //- +clear_value
//-     .ui.icon.input
//-         input.edit_text(type='text' value=afield_value placeholder=placeholder autocomplete="off")
//- 
//- template(name='slug_view')
//-     if afield_value
//-         unless header
//-             div
//-             .ui.inline.small.header
//-                 if title
//-                     |#{title}
//-                 else if label
//-                     |#{label}
//-                 else if key
//-                     |#{key}
//-                 else
//-                     |#{this}
//-         .ui.inline.small.header
//-             strong #{afield_value}
//- 
//- 
//- template(name='math')
//-     #mf.mathfield
//- 
//- 
//- 
//- 
//- template(name='i')
//-     i.icon(class=name)
//-     //- img(src="https://img.icons8.com/cotton/48/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/color/48/000000/#{name}.png" class=classes title=title)
//-     //- img.icon8(src="https://img.icons8.com/ios/50/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/ultraviolet/48/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/office/48/000000/#{name}.png" class=classes title=title)
//-     //- if classes.length
//-     //-     img(src="https://img.icons8.com/#{gs.icon_theme}/48/000000/#{name}.png" class=classes title=title)
//-     //- else 
//-     //-     img.ui.mini.inline.image(src="https://img.icons8.com/#{gs.icon_theme}/48/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/plasticine/48/000000/#{name}.png" class=classes title=title)
//- template(name='ioffice')
//-     img(src="https://img.icons8.com/office/48/000000/#{name}.png" class=classes title=title)
//- template(name='iios')
//-     img(src="https://img.icons8.com/ios/48/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/ultraviolet/48/000000/#{name}.png" class=classes title=title)
//- template(name='ismall')
//-     //- i.icon(class=name)
//-     img.ui.middle.aligned.image(src="https://img.icons8.com/color/24/000000/#{name}.png" class=classes title=title)
//-     //- img.ui.middle.aligned.image(src="https://img.icons8.com/cotton/24/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/office/24/000000/#{name}.png" class=classes title=title)
//-     //- img.ui.middle.aligned.image(src="https://img.icons8.com/plasticine/24/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/plasticine/24/000000/#{name}.png" class=classes title=title)
//-     //- img.ui.inline.image(src="https://img.icons8.com/#{gs.icon_theme}/24/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/ios/24/000000/#{name}.png" class=classes title=title) 
//-     //- |&nbsp;
//- 
//- template(name='inolan')
//-     img(src="https://img.icons8.com/ultraviolet/48/000000/#{name}.png" class=classes title=title)
//- 
//- template(name='iblue')
//-     img(src="https://img.icons8.com/ultraviolet/40/000000/#{name}.png" class=classes)
//- 
//- template(name='iflat')
//-     img.ui.mini.image(src="https://img.icons8.com/flat_round/64/000000/#{name}.png")
//- 
//- //- template(name='ioffice')
//- //-     img.ui.image(src="https://img.icons8.com/office/30/000000/#{name}.png" class=classes)
//- 
//- 
//- template(name='icolor')
//-     //- img(src="https://img.icons8.com/dusk/48/000000/#{name}.png" class=classes title=title)
//-     img(src="https://img.icons8.com/color/48/000000/#{name}.png" class=classes title=title)
//-     //- img(src="https://img.icons8.com/color/48/000000/#{name}.png" class=classes title=title)
//- 
//- 
//- 
//- template(name='order_view')
//-     if can_order
//-         .ui.button.order_item
//-             |order
//-     else 
//-         .ui.disabled.button
//-             |can't order
//- 
//-     each orders
//-         +order
//- 
//- 
//- template(name='order')
//-     .ui.header
//-         |#{when} #{order_price}
//-         |#{_author.username}
//- 
