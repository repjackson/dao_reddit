template(name='docs')
    .ui.stackable.grid.home(class=invert_class)
        .centered.row 
            .four.wide.column
                //- .ui.header #{connection.status}
                unless connected
                    .ui.inline.header disconnected
                    .ui.red.basic.circular.button.reconnect reconnect
                //- else 
                //-     i.image.circular.link.icon.toggle_images(title='toggle images' class=view_images_class)
                //-     i.video.circular.link.icon.toggle_videos(title='toggle video' class=view_videos_class)
                //-     i.twitter.circular.link.icon.toggle_tweets(title='toggle tweets' class=view_tweets_class)
                //-     i.list.circular.link.icon.toggle_articles(title='toggle articles' class=view_articles_class)
                .ui.left.icon.large.search.input
                    if subs_ready
                        i.search.icon.refresh_tags
                    else
                        i.yin.yang.loading.large.icon
                    input#search.prompt(type='text' autofocus='' autocomplete="off")

                if selected_tags_plural
                    .ui.icon.circular.black.compact.large.button.clear_selected_tags
                        i.remove.icon
                each selected_tags
                    button.ui.black.compact.circular.large.button.unselect_tag(tabindex='0')
                        //- i.remove.icon
                        | #{this}
                //- if subs_ready
                //-     i.yin.yang.grey.big.grey.icon(title='dao')
                //- div
                //- .spacer
                //- if selected_tags
                //-     .ui.black.icon.large.compact.circular.button.clear_selected_tags(title='clear search')
                //-         i.remove.icon
                //- div
                each tags
                    button.ui.basic.circular.compact.large.button.result(tabindex="0" class=result_class title=count) #{title}
                        //- small #{count}
                //- .ui.divider
                
            .eight.wide.column
                .sorting_row
                    .ui.compact.small.menu
                        .ui.simple.dropdown.item
                            strong #{current_sort_label}
                            i.dropdown.icon
                            .menu
                                +set_sort_key key='ups' label='upvotes' icon='thumbs up outline'
                                +set_sort_key key='sadness_percent' label='sadness' color='blue'
                                +set_sort_key key='joy_percent' label='joy' color='green'
                                +set_sort_key key='fear_percent' label='fear' color='black'
                                +set_sort_key key='disgust_percent' label='disgust' color='yellow'
                                +set_sort_key key='anger_percent' label='anger' color='red'
                                +set_sort_key key='_timestamp' label='added' icon='clock'
                                +set_sort_key key='doc_sentiment_label' label='sentiment' icon='yin yang'
                                +set_sort_key key='comment_count' label='comment count' icon='chat'
                    .ui.compact.icon.basic.button.set_sort_direction(title='toggle sort direction')
                        if sorting_up
                            i.sort.amount.down.icon
                        else
                            i.sort.amount.up.icon
                    |&nbsp;
                    |&nbsp;
                    .ui.inline.small.grey.header
                        |show
                    .ui.compact.menu
                        .ui.simple.dropdown.item
                            strong #{current_doc_limit}
                            i.dropdown.icon
                            .menu
                                +set_limit amount=1
                                +set_limit amount=5
                                +set_limit amount=10
                                +set_limit amount=20
                                +set_limit amount=50
                    //- .ui.compact.menu
                    //-     .ui.simple.dropdown.item
                    //-         |#{current_delta.view_mode}
                    //-         i.dropdown.icon
                    //-         .menu
                    //-             +set_view_mode title='table' icon='table'
                    //-             +set_view_mode title='list' icon='list'
                    //-             +set_view_mode title='cards' icon='cards'
                    //-             +set_view_mode title='items' icon='list'
                    //-             +set_view_mode title='map' icon='map'
                    //-             +set_view_mode title='graph' icon='graph'
                    //- |sort by
                    //- +session_edit_value_button key='sort_key' value='_timestamp' label='created'
                    //- +session_edit_value_button key='sort_key' value='upvotes' label='upvotes'
                    +session_edit_value_button key='view_mode' value='cards' label='cards' icon='grip horizontal' icon_view=true classes='circular icon'
                    +session_edit_value_button key='view_mode' value='list' label='list' icon='list' icon_view=true classes='circular icon'
                    //- +session_edit_value_button key='view_mode' value='items' label='items' icon='grip horizontal' icon_view=true classes='circular icon'
                .scrolling
                    if session_is 'view_mode' 'cards'
                        .ui.stackable.cards
                            each docs
                                +doc_card
                                //- .ui.hidden.divider
                    else if session_is 'view_mode' 'list'
                        .ui.list
                            each docs
                                +doc_item
                                .ui.divider
            .four.wide.column
                .ui.header leaderboard
                .ui.circular.icon.button.calc_leaderboard
                    i.refresh.icon
                each redditors
                    .ui.small.header #{title} #{count}
                        
                        
template(name='session_edit_value_button')
    .ui.button.set_session_value(class=calculated_class)
        if icon_view 
            i.icon(class=icon)
        else 
            if label
                |#{label}
            else 
                |#{value}


template(name='set_sort_key')
    .item.set_sort
        if color
            .ui.label(class=color) #{label}
        else 
            if emoji
                em(data-emoji=emoji)
            else if icon
                i.icon(class=icon)
            |#{label}
        

template(name='set_view_mode_docs')
    .item.set_view
        i.icon(class=icon)
        |#{title}


template(name='set_limit_docs')
    .item.set_limit #{amount}
