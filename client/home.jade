template(name='home')
    .ui.stackable.padded.grid.home(class=omega_dark_mode_class)
        .centered.row
            .sixteen.wide.center.aligned.column
                //- .scrolling.forty
                //- .ui.header #{connection.status}
                unless connected
                    //- .ui.inline.header disconnected
                    .ui.hidden.divider
                    i.lightning.circular.yellow.link.large.icon.reconnect
                if connected
                    //- unless selected_tags
                    //-     i.huge.yin.yang.black.icon
                    i.grey.lightbulb.link.circular.icon
                    unless omega_doc.selected_tags
                        .ui.hidden.divider
                        if omega_doc.dark_mode
                            i.big.yin.yang.grey.link.icon.pick_dao
                        else
                            i.big.yin.yang.grey.link.icon.pick_dao
                    //- if selected_tags
                    //-     .ui.icon.circular.black.compact.button.clear_selected_tags
                    //-         i.remove.icon
                    each omega_doc.selected_tags
                        button.ui.active.circular.compact.large.button.unselect_tag(tabindex='0' class=omega_dark_mode_class)
                            //- i.remove.icon
                            | #{this}
                    .ui.left.icon.search.circular.input
                        unless is_loading
                            i.search.link.icon.refresh_agg
                        if is_loading
                            i.yin.yang.large.loading.large.icon
                        input#search(type='text' autofocus='' autocomplete="off" value=omega_doc.current_query)
                    //- div
                    //- if selected_tags_plural
                    //- each omega_doc.agg
                    each omega_doc.filtered_agg_res
                        button.ui.compact.tertiary.white.basic.large.circular.button.result(tabindex="0" class=result_class title=count)
                            strong #{title}
                            //- small #{count}
                        //- button.ui.compact.white.basic.huge.circular.button.result(tabindex="0" class=result_class title=count) #{title}
                    //- .ui.hidden.divider
                //- if one_post
        .centered.one.column.row
            //- each omega_doc.doc_results
            //- each omega_doc_results
            each omega_doc.doc_result_ids
                +doc_item
                //- if selected_tags
        //-     //- .scrolling.sixty
        //-     .ui.stackable.padded.grid
        //-         .four.column.row
        //-             each docs
        //-                 .column
                            //- +doc_item
        //-                     .ui.hidden.divider
            //-         .sixteen.wide.greecolumn
            //-             |hi
            //- .ui.centered.doubling.cards
            //-     each docs
            //-         //- .ui.fitted.hidden.divider
            //-         +doc_item
