template(name='user_edit_layout')
    //- img.ui.fluid.image.bg_overlay(src="{{c.url 'fantasy_bg' width=1000 height=1000 crop='crop'}}")    
    +nav
    with current_user          
        .ui.stackable.padded.grid
            .row
                .three.wide.column
                    .ui.center.aligned.large.inline.grey.header
                        | #{current_user.first_name} #{current_user.last_name}
                    //- +i name='pencil'
                    .ui.small.inline.header @#{current_user.username}
                    a.ui.fluid.basic.large.button(href="/user/#{current_user._id}/") 
                        i.grey.checkmark.icon
                        strong save
                    .ui.vertical.fluid.large.pointing.menu(class="{{currentUser.nav_color}}")
                        a.item(href="/user/#{current_user._id}/edit/info" class="{{isActiveRoute regex='user_edit_info'}}") 
                            |info
                            i.grey.info.icon 
                        a.item(href="/user/#{current_user._id}/edit/account" class="{{isActiveRoute regex='user_edit_account'}}") 
                            |account
                            i.grey.cog.icon 
                        a.item(href="/user/#{current_user._id}/edit/coach" class="{{isActiveRoute regex='user_edit_coach'}}") 
                            |coach
                            i.grey.user.icon 
                        a.item(href="/user/#{current_user._id}/edit/friends" class="{{isActiveRoute regex='user_edit_friends'}}") 
                            |friends
                            i.grey.users.icon 
                        //- a.item(href="/user/#{current_user._id}/edit/styles" class="{{isActiveRoute regex='user_edit_styles'}}") 
                        //-     |styles
                        //-     i.grey.paint.brush.icon 
                        a.item(href="/user/#{current_user._id}/edit/alerts" class="{{isActiveRoute regex='user_edit_alerts'}}") 
                            |alerts
                            i.grey.bell.icon 
                        a.item(href="/user/#{current_user._id}/edit/payment" class="{{isActiveRoute regex='user_edit_payment'}}") 
                            |finance
                            i.grey.money.icon 
                        //- a.item(href="/user/#{current_user._id}/edit/tags" class="{{isActiveRoute regex='user_edit_tags'}}") 
                        //-     |tags
                        //-     i.grey.tags.icon 
                        a.item(href="/user/#{current_user._id}/edit/privacy" class="{{isActiveRoute regex='user_edit_privacy'}}") 
                            | privacy
                            i.grey.lock.icon 
                        //- a.item(href="/user/#{current_user._id}/edit/ads" class="{{isActiveRoute regex='user_edit_ads'}}") 
                        //-     |ads
                        //-     i.grey.bullhorn.icon 
                .thirteen.wide.column
                    +yield

template(name='user_edit_info')
    .ui.three.column.grid
        .column
            +image_edit key='profile_image_id' icon='picture' title='profile image' direct=true
        .column
            +text_edit key='first_name' label='first name' direct=true
            +text_edit key='last_name' label='last name' direct=true
            .ui.header 
                i.envelope.outline.icon
                |emails
            +emails_edit
        .column
            //- if is_admin
            //-     .ui.segment 
            //-         .ui.small.header 
            //-             i.grey.shield.icon 
            //-             |admin
            //-         +text_edit key='student_code' label='student code' direct=true
            //-         +text_edit key='parent_code' label='parent code' direct=true
            //-         +number_edit key='credit' label='credit' icon='money' direct=true
            //- div
            +phone_edit key='phone' label='phone' icon='phone' direct=true
            +array_edit key='tags' label='tags' direct=true


     
template(name='phone_editor')
    .ui.small.header    
        i.phone.icon
        |phone
    .ui.icon.fluid.input(title='Add Phone')
        i.plus.icon
        input#phone.form-control(type='phone', name='phone', value='{{newNumber}}')
    if current_user.profile.phone
        if current_user.profile.phone_verified
            .ui.label verified
        else
            p
                .ui.label not verified
                a.resend_verification(href='#')
                    |resend code
                .ui.small.icon.basic.button.remove_phone(title='remove phone')
                    i.remove.icon
    else
        .ui.fluid.basic.button.update_phone add phone



template(name='password_edit')
    .ui.small.grey.header
        //- +i name='password'
        i.lock.icon
        |change password
    //- .ui.fluid.input
    //-     input#password(type='password', placeholder='old password')
    .ui.fluid.icon.input
        input#new_password(type='password', placeholder='new password')
    if is_dev
        .ui.fluid.basic.button.send_enrollment_email
            |send enrollment email
    if is_admin
        .ui.fluid.basic.button.reset_password
            |reset password
    .ui.fluid.large.basic.button.set_password
        i.lock.icon
        //- +i name='password' classes='ui mini inline image'
        | set password
            
            
            
template(name='emails_edit')
    //- .ui.small.grey.header 
    //-     i.envelope.icon
    //-     | email(s)
    //- #test_email.ui.large.basic.button test email
    .ui.divided.list
        each current_user.emails
            .item 
                // unless verified
                //     .right.floated.content
                //         .ui.basic.button Verify
                .content
                    if verified
                        .ui.large.basic.label(title='verified')
                            | #{address}
                            i.grey.checkmark.icon
                    else
                        .ui.large.basic.label
                            //- i.ban.icon
                            | #{address}
                        .send_verification_email.ui.basic.button 
                            |verify
                            i.grey.caret.right.icon
                    .ui.small.icon.basic.button.remove_email
                        i.grey.remove.icon
    .ui.action.large.fluid.icon.action.input
        input#new_email(type='email' placeholder='add new email address' autocomplete="off")
        #add_email.ui.submit.icon.button 
            i.plus.icon
            |email



template(name='user_edit_friends')
    .ui.header
        +i name='groups'
        | friends
    
template(name='user_edit_privacy')
    .ui.header
        +i name='shield'
        | privacy
    .ui.grid 
        .row 
            .four.wide.column
                +boolean_edit key='publish_profile' label='publish profile' direct=true
            .twelve.wide.column
                .ui.header 
                    |make profile public 
                .ui.small.header 
                    |Allow others to find your profile and follow you. Allows you to follow others. Enrolls you in public leaderboards.

template(name='user_edit_alerts')
    .ui.header
        i.bell.large.yellow.icon
        | alerts
    .ui.stackable.padded.grid 
        .row 
            .four.wide.column
                .ui.header email me when
            .twelve.wide.column
                +boolean_edit key='email_when_announcement' label='there is an announcement'
                div
                +boolean_edit key='email_when_somebody_friends_me' label='somebody friends me'
                div
                +boolean_edit key='email_when_somebody_passes_me' label='somebody passes me'
                div
                +boolean_edit key='email_when_weekly_report_is_ready' label='my weekly report is ready'
        //- .two.column.row 
        //-     .column
        //-         .ui.header email me when
        //-     .column
        //-         +boolean_edit key='email_when_announcement' label='there is an announcement'
        //-         +boolean_edit key='email_when_somebody_friends_me' label='somebody friends me'
        //-         +boolean_edit key='email_when_somebody_passes_me' label='somebody passes me'
        //-         +boolean_edit key='email_when_weekly_report_is_ready' label='my weekly report is ready'
    
template(name='user_edit_coach')
    .ui.header
        +i name='personal-trainer'
        | daily goal settings
    .ui.stackable.padded.grid
        .two.column.row
            .column
                .ui.small.header Selecting a daily goal will help you stay motivated while learning. You can change your goal at any time.
            .column
                +daily_goal_selector xp=1 label='basic'
                +daily_goal_selector xp=10 label='casual'
                +daily_goal_selector xp=20 label='regular'
                +daily_goal_selector xp=30 label='serious'
                +daily_goal_selector xp=50 label='insane'
    
    
template(name='daily_goal_selector')
    .ui.large.fluid.button
        | #{label}
        |#{xp}/day
    
    
    
    
template(name='user_edit_styles')
    .ui.header
        +i name='paint-brush'
        | styles
    +boolean_edit key='invert_mode' label='dark theme' direct=true
    .ui.hidden.divider
    //- +text_edit key='icon_theme' label='icon theme' direct=true
    +user_key_value_edit key='icon_theme' value='ios' label='iOS' icon=''
    +user_key_value_edit key='icon_theme' value='office' label='office' icon=''
    +user_key_value_edit key='icon_theme' value='color' label='color' icon=''
    +user_key_value_edit key='icon_theme' value='ultraviolet' label='ultraviolet' icon=''
    +user_key_value_edit key='icon_theme' value='nolan' label='nolan' icon=''
    +user_key_value_edit key='icon_theme' value='pastel' label='pastel' icon=''
    +user_key_value_edit key='icon_theme' value='doodle' label='doodle' icon=''
    +user_key_value_edit key='icon_theme' value='flat_round' label='flat_round' icon=''
    +user_key_value_edit key='icon_theme' value='clouds' label='clouds' icon=''
    +user_key_value_edit key='icon_theme' value='bubbles' label='bubbles' icon=''
    +user_key_value_edit key='icon_theme' value='plasticine' label='plasticine' icon=''
    +user_key_value_edit key='icon_theme' value='carbon-copy' label='carbon-copy' icon=''
    +user_key_value_edit key='icon_theme' value='pastel-glyph' label='pastel-glyph' icon=''
    +user_key_value_edit key='icon_theme' value='cute-clipart' label='cute-clipart' icon=''

    .ui.header examples 
    +i name='flower-doodle'
    +i name='home'
    +i name='nature'
    +i name='forest'
    +i name='user-male'
    +i name='money'
    +i name='bug'
    +i name='water-element'
    +i name='earth-element'
    +i name='fire-element'
    +i name='batman'
    +i name='campfire'
    +i name='camping-tent'

    .ui.header nav color 
    +user_key_value_edit key='nav_color' value='white' label='white' icon=''
    +user_key_value_edit key='nav_color' value='inverted blue' label='blue' icon=''
    +user_key_value_edit key='nav_color' value='inverted teal' label='teal' icon=''
    +user_key_value_edit key='nav_color' value='inverted brown' label='brown' icon=''
    +user_key_value_edit key='nav_color' value='inverted black' label='black' icon=''
    +user_key_value_edit key='nav_color' value='inverted red' label='red' icon=''
    +user_key_value_edit key='nav_color' value='inverted orange' label='orange' icon=''
    +user_key_value_edit key='nav_color' value='inverted yellow' label='yellow' icon=''
    +user_key_value_edit key='nav_color' value='inverted grey' label='grey' icon=''
    +user_key_value_edit key='nav_color' value='inverted purple' label='purple' icon=''
    +user_key_value_edit key='nav_color' value='inverted violet' label='violet' icon=''
    +user_key_value_edit key='nav_color' value='inverted olive' label='olive' icon=''
    +user_key_value_edit key='nav_color' value='inverted green' label='green' icon=''



template(name='user_edit_payment')
    .ui.header
        i.money.icon
        | finance
    .ui.header 
        |create ads
    |buy targeted ads using credit
    .ui.header
        |consume ads
    +boolean_edit key='ads_opt_in' label='view ads' direct=true
    |earn credit by opting in to targeted ads 

template(name='user_edit_tags')
    .ui.header
        i.tags.icon
        | tags
    
template(name='user_edit_ads')
        
    
template(name='user_edit_account')
    .ui.header 
        i.cog.icons
        |account
    .ui.two.column.grid
        .column
            +password_edit
            if is_admin
                with current_user
                    .ui.basic.button.remove_user 
                        i.grey.remove.icon
                        |delete user
        .column
            +username_edit
        //- +phone_editor


    

template(name='username_edit')
    .ui.small.header 
        i.cursor.icon
        |change username [#{current_user.username}]
    .ui.icon.fluid.input
        input.new_username(type='text' placeholder='new username...')
        i.play.link.icon.change_username



    
template(name='user_edit_credits')
    .ui.header credits
    
    
